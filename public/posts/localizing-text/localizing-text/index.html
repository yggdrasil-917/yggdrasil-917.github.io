

<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="robots" content="index, follow">
<meta name="revisit-after" content="15 days"><link rel="author" href="/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#494f5c">
<meta name="msapplication-TileColor" content="#494f5c">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#494f5c"><meta name="author" content="">

  <meta itemprop="name" content="Localizing Text">
  <meta itemprop="description" content="Localization is one of those things many people in game dev talk about but there doesn’t seem to be a consensus on whether it is valuable to do in your games. For every presentation or post-mortem talking about the benefits of it and how it was key to their success you can find an equal number stating it didn’t help. With that in mind, I’m not entirely sure if I will localize all the text in the game I’m making but that doesn’t mean that I did not make a system for localization just in case I do decide to do so.">
  <meta itemprop="datePublished" content="2024-08-04T17:41:30-07:00">
  <meta itemprop="dateModified" content="2024-08-04T17:41:30-07:00">
  <meta itemprop="wordCount" content="813">
  <meta itemprop="keywords" content="Engine,Tools,Localization"><meta property="og:url" content="https://yggdrasil-917.github.io/posts/localizing-text/localizing-text/">
  <meta property="og:site_name" content="Tempest Engine Dev">
  <meta property="og:title" content="Localizing Text">
  <meta property="og:description" content="Localization is one of those things many people in game dev talk about but there doesn’t seem to be a consensus on whether it is valuable to do in your games. For every presentation or post-mortem talking about the benefits of it and how it was key to their success you can find an equal number stating it didn’t help. With that in mind, I’m not entirely sure if I will localize all the text in the game I’m making but that doesn’t mean that I did not make a system for localization just in case I do decide to do so.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-04T17:41:30-07:00">
    <meta property="article:modified_time" content="2024-08-04T17:41:30-07:00">
    <meta property="article:tag" content="Engine">
    <meta property="article:tag" content="Tools">
    <meta property="article:tag" content="Localization">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Localizing Text">
  <meta name="twitter:description" content="Localization is one of those things many people in game dev talk about but there doesn’t seem to be a consensus on whether it is valuable to do in your games. For every presentation or post-mortem talking about the benefits of it and how it was key to their success you can find an equal number stating it didn’t help. With that in mind, I’m not entirely sure if I will localize all the text in the game I’m making but that doesn’t mean that I did not make a system for localization just in case I do decide to do so.">
<title>Localizing Text</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" href="https://yggdrasil-917.github.io/css/style.min.53a53ff9a700cf26a907d20cff4ca6268650da3c0980ef01164d230678d732e7.css" integrity="sha256-U6U/+acAzyapB9IM/0ymJoZQ2jwJgO8BFk0jBnjXMuc=" crossorigin="anonymous">
	</head>
<body id="page">
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://yggdrasil-917.github.io/">Tempest Engine Dev</a>
				</div>
				<nav class="site-nav hide-in-mobile"><a href="https://yggdrasil-917.github.io/posts/">Posts</a><a href="https://yggdrasil-917.github.io/about">About</a></nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://github.com/yggdrasil-917" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="mailto:yggdrasil.917@gmail.com" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a></span><button id="share-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg></button>
 
<div id="share-links" class="animated fast">
    
    
    
    
    <ul>
        <li>
            <a href="https://twitter.com/intent/tweet?hashtags=hermit2&amp;url=https%3a%2f%2fyggdrasil-917.github.io%2fposts%2flocalizing-text%2flocalizing-text%2f&amp;text=Localizing%20Text" target="_blank" rel="noopener" aria-label="Share on X"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path class="st0" d="m21.3 21.1 -11.4 -18.2h-7.2l11.4 18.2zm-18.6 0 7.2 -6.6m4.2 -5 7.2 -6.6"/></svg></a>
        </li>
        <li>
            <a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fyggdrasil-917.github.io%2fposts%2flocalizing-text%2flocalizing-text%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
        </li>
        <li>
            <a href="mailto:?subject=Localizing%20Text&amp;body=https%3a%2f%2fyggdrasil-917.github.io%2fposts%2flocalizing-text%2flocalizing-text%2f" target="_self" rel="noopener" aria-label="Share on Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
        </li>
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fyggdrasil-917.github.io%2fposts%2flocalizing-text%2flocalizing-text%2f&amp;source=https%3a%2f%2fyggdrasil-917.github.io%2f&amp;title=Localizing%20Text&amp;summary=Localizing%20Text%2c%20by%20%3cnil%3e%0a%0a%3cnil%3e%0a" target="_blank" rel="noopener" aria-label="Share on LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
        </li>
        <li>
            <a href="#" onclick="linkShare(&#34;Localizing Text&#34;,&#34;https://yggdrasil-917.github.io/posts/localizing-text/localizing-text/&#34;,&#34;Localizing Text, by \u003cnil\u003e\n\n\u003cnil\u003e\n&#34;); return false;" target="_self" rel="noopener" aria-label="Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></a>
        </li>
    </ul>
</div><button id="menu-btn" class="hdr-btn" title=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://yggdrasil-917.github.io/posts/">Posts</a></li>
			<li><a href="https://yggdrasil-917.github.io/about">About</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster"><article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Aug 4, 2024</span></div>
				<h1>Localizing Text</h1>
			</header>
			<div class="post-info"><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg><a href="" target="_blank"></a></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://yggdrasil-917.github.io/tags/engine">engine</a></span><span class="tag"><a href="https://yggdrasil-917.github.io/tags/tools">tools</a></span><span class="tag"><a href="https://yggdrasil-917.github.io/tags/localization">localization</a></span></p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
    
    
    
    
    3 Minutes, 41 Seconds</p>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2024-08-04 17:41 -0700</p></div>
			<hr class="post-end">
			<div class="content">
				<p>Localization is one of those things many people in game dev talk about but there doesn&rsquo;t seem to be a consensus on whether it is valuable to do in your games. For every presentation or post-mortem talking about the benefits of it and how it was key to their success you can find an equal number stating it didn&rsquo;t help. With that in mind, I&rsquo;m not entirely sure if I will localize all the text in the game I&rsquo;m making but that doesn&rsquo;t mean that I did not make a system for localization just in case I do decide to do so. I don&rsquo;t believe the game will have an excessive amount of text so the solution I built for localization is not that complex and I will outline it here.</p>
<p>So how do we make a localization system that is easy to add new languages and is performant?</p>
<p>In short, we make a table loaded with all the localized text and we use unique IDs to lookup the correct translations. Few things are faster than indexing into an array so this is what is used to store all the translated strings instead of something like a hash table. Using a hash table also has the downside of needing to hash the key in order to get the localized text back so there&rsquo;s a performance cost that can be easily avoided by using an array as the underlying data structure to store the text. With a bit of tooling we can automate the process of creating these unique IDs offline and then use them at runtime so we never need any sort of hashing to access to correct localized text.</p>
<p>At the start of the application the localization data of the desired language is loaded into memory where a static object will store the array containing all the localized text. Having it be globally accessible through an API makes it very easy to use anywhere in the application. It is never modified after loading so there is also no worry about accessing that data from a different thread. The unique IDs for each localized text is stored in a auto-generated header file where each ID is a macro that contains an unsigned integer.</p>
<p>That&rsquo;s pretty much all there is to using the localization system so lets take a look at how the authoring side of the system works.</p>
<p>The engine has a localization folder where the user may place json files containing the localization data for their project. The name of each of those files is very important as the name has to be the <a href="https://en.wikipedia.org/wiki/Language_code">language code</a> of whatever language the data in the file represents. For instance, US English file will be denoted by the language code <strong>en-US</strong>. At the moment it is assumed that the file will contain all the localized text needed in the game. It was mentioned that file itself uses the json format but only because other systems were using json files as well and not because it provides any benefit. The localization file is essentially a key value pair listing the identifier of the localized text and its actual text.</p>
<pre tabindex="0"><code>Example of an entry in the localization file
{
  &#34;Setting_GraphicsTab&#34;: &#34;Graphics&#34;,
  &#34;Graphics_Resolution&#34;: &#34;Resolution&#34;,
  ...
}
</code></pre><p>Tempest has a separate executable, referred to as the Localizer, which will parse the project&rsquo;s localization folder. The output is the header file containing up to date localization IDs for each text in the localization file and binary file containing the localized text for optimal serialization/deserialization tasks later on. So continuing from the example above, a sample output of the header file looks like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#define LOC_SETTING_GRAPHICSTAB (73u)
</span></span></span><span class="line"><span class="cl"><span class="cp">#define LOC_GRAPHICS_RESOLUTION (74u)
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">...</span>
</span></span></code></pre></div><p>Then in order to get the localized text from that ID we can utilize the localization API like the example below.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">const</span> <span class="n">LocalizedString</span><span class="o">&amp;</span> <span class="n">graphicsTabText</span> <span class="o">=</span> <span class="n">Localization</span><span class="o">::</span><span class="n">Localize</span><span class="p">(</span><span class="n">LOC_SETTING_GRAPHICSTAB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Use localized text as needed
</span></span></span></code></pre></div><p>The one downside of this approach is that any time a localized text entry is added or removed, the header file has to be regenerated and this means compiling the engine. For now that isn&rsquo;t too much of an issue but it is an area that could be improved.</p>
<p>Finally, there is a batch file available in the engine to make it easy to run the localizer tool but this is also something that could be improved. For now though this works well with my workflow so there aren&rsquo;t any plans to update this process.</p>
<p>One last thing is that the in-game console has a helper command to trigger a full reload of the localization data. This is very useful during development when only the content of the localized text is modified and no entries are added or removed.</p>
<p>And that is pretty much the totality of the localization system inside of Tempest. As noted at the start, it is a fairly simple solution but still pretty powerful.</p>

			</div>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="https://yggdrasil-917.github.io/posts/lens-flare/lens-flare/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;</span><br><span>Lens Flare</span>
			</a>
			<a class="prev-post" href="https://yggdrasil-917.github.io/posts/game-ui/game-ui/">
				<span class="post-nav-label">&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>Game UI</span>
			</a>
		</div>
		<div id="comments" class="thin">
<script src="https://utteranc.es/client.js"
        repo="yggdrasil-917/yggdrasil-917.github.io"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

</div>
	</main>

<footer id="site-footer" class="section-inner thin animated fadeIn faster">
	<p>
		&copy; 2024 <a href="https://yggdrasil-917.github.io/"></a>
		&#183; XGH
		&#183; Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>
		&#183; Theme <a href="https://github.com/1bl4z3r/hermit-V2" target="_blank" rel="noopener">Hermit-V2</a></p>

</footer>
<script async src="https://yggdrasil-917.github.io/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js" integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin="anonymous"></script><script async src="https://yggdrasil-917.github.io/js/link-share.min.24409a4f6e5537d70ffc55ec8f9192208d718678cb8638585342423020b37f39.js" integrity="sha256-JECaT25VN9cP/FXsj5GSII1xhnjLhjhYU0JCMCCzfzk=" crossorigin="anonymous"></script>
</body>

</html>
